import { Repository } from 'typeorm';
import { Record } from './entities/record.entity';
import { AuditLogsService } from '../audit-logs/audit-logs.service';
import { CurrentUserInterface } from '../auth/current-user.interface';
export declare class RecordsService {
    private readonly recordRepo;
    private readonly auditLogService;
    constructor(recordRepo: Repository<Record>, auditLogService: AuditLogsService);
    create(data: Partial<Record>): Promise<Record>;
    findOne(id: string): Promise<Record | null>;
    findAll({ page, limit, status, q, }: {
        page?: number;
        limit?: number;
        status?: string;
        q?: string;
    }): Promise<{
        data: {
            reviewed_by: string | null;
            locked_by: string | null;
            assigned_to: string | null;
            entered_by: string | null;
            id: string;
            property_address: string;
            transaction_date: Date;
            borrower_name: string;
            loan_officer_name: string;
            loan_amount: number;
            nmls_id: number;
            loan_term: number;
            sales_price: number;
            down_payment: number;
            apn: string;
            status: "Pending" | "Verified" | "Flagged";
            lock_timestamp: Date | null;
            entered_by_date: Date;
            reviewed_by_date: Date;
            created_at: Date;
            updated_at: Date;
            batch_id?: string;
            batch?: import("../batches/entities/batch.entity").Batch;
            entered_by_user?: import("../users/entities/user.entity").User;
            assigned_to_user?: import("../users/entities/user.entity").User;
            reviewed_by_user?: import("../users/entities/user.entity").User;
            locked_by_user?: import("../users/entities/user.entity").User;
        }[];
        total: number;
        page: number;
        lastPage: number;
    }>;
    reviewRecord(id: string, userId: string, status: 'Verified' | 'Flagged'): Promise<Record | null>;
    lock(id: string, userId: string): Promise<{
        reviewed_by_name: string | null;
        locked_by_name: string | null;
        assigned_to_name: string | null;
        entered_by_name: string | null;
        batch_name: string | null;
        id?: string | undefined;
        property_address?: string | undefined;
        transaction_date?: Date | undefined;
        borrower_name?: string | undefined;
        loan_officer_name?: string | undefined;
        loan_amount?: number | undefined;
        nmls_id?: number | undefined;
        loan_term?: number | undefined;
        sales_price?: number | undefined;
        down_payment?: number | undefined;
        apn?: string | undefined;
        status?: "Pending" | "Verified" | "Flagged" | undefined;
        locked_by?: string | null | undefined;
        lock_timestamp?: Date | null | undefined;
        entered_by?: string | undefined;
        entered_by_date?: Date | undefined;
        reviewed_by?: string | undefined;
        reviewed_by_date?: Date | undefined;
        created_at?: Date | undefined;
        updated_at?: Date | undefined;
        assigned_to?: string | null | undefined;
        batch_id?: string;
        batch?: import("../batches/entities/batch.entity").Batch;
        entered_by_user?: import("../users/entities/user.entity").User;
        assigned_to_user?: import("../users/entities/user.entity").User;
        reviewed_by_user?: import("../users/entities/user.entity").User;
        locked_by_user?: import("../users/entities/user.entity").User;
    } | null>;
    unlock(id: string, userId: string): Promise<Record>;
    assignRecordsToBatch(recordIds: string[], batchId: string): Promise<Record[]>;
    getRecordsByUser({ userId, page, limit, status, sortBy, }: {
        userId: string;
        page?: number;
        limit?: number;
        status?: string;
        sortBy?: 'created_at' | 'updated_at';
    }): Promise<{
        data: {
            reviewed_by: string | null;
            locked_by: string | null;
            assigned_to: string | null;
            entered_by: string | null;
            id: string;
            property_address: string;
            transaction_date: Date;
            borrower_name: string;
            loan_officer_name: string;
            loan_amount: number;
            nmls_id: number;
            loan_term: number;
            sales_price: number;
            down_payment: number;
            apn: string;
            status: "Pending" | "Verified" | "Flagged";
            lock_timestamp: Date | null;
            entered_by_date: Date;
            reviewed_by_date: Date;
            created_at: Date;
            updated_at: Date;
            batch_id?: string;
            batch?: import("../batches/entities/batch.entity").Batch;
            entered_by_user?: import("../users/entities/user.entity").User;
            assigned_to_user?: import("../users/entities/user.entity").User;
            reviewed_by_user?: import("../users/entities/user.entity").User;
            locked_by_user?: import("../users/entities/user.entity").User;
        }[];
        total: number;
        page: number;
        lastPage: number;
    }>;
    assignRecord(id: string, userId: string): Promise<Record>;
    getUnassignedRecords(): Promise<Record[]>;
    getRecordsWithoutBatch(page?: number, limit?: number): Promise<{
        data: {
            reviewed_by: string | null;
            locked_by: string | null;
            assigned_to: string | null;
            entered_by: string | null;
            id: string;
            property_address: string;
            transaction_date: Date;
            borrower_name: string;
            loan_officer_name: string;
            loan_amount: number;
            nmls_id: number;
            loan_term: number;
            sales_price: number;
            down_payment: number;
            apn: string;
            status: "Pending" | "Verified" | "Flagged";
            lock_timestamp: Date | null;
            entered_by_date: Date;
            reviewed_by_date: Date;
            created_at: Date;
            updated_at: Date;
            batch_id?: string;
            batch?: import("../batches/entities/batch.entity").Batch;
            entered_by_user?: import("../users/entities/user.entity").User;
            assigned_to_user?: import("../users/entities/user.entity").User;
            reviewed_by_user?: import("../users/entities/user.entity").User;
            locked_by_user?: import("../users/entities/user.entity").User;
        }[];
        total: number;
        page: number;
        limit: number;
        totalPages: number;
    }>;
    updateRecord(id: string, updates: Partial<Record>, user: CurrentUserInterface): Promise<Record>;
    searchRecords(query: string, userId: string): Promise<{
        reviewed_by: string | null;
        locked_by: string | null;
        assigned_to: string | null;
        entered_by: string | null;
        id: string;
        property_address: string;
        transaction_date: Date;
        borrower_name: string;
        loan_officer_name: string;
        loan_amount: number;
        nmls_id: number;
        loan_term: number;
        sales_price: number;
        down_payment: number;
        apn: string;
        status: "Pending" | "Verified" | "Flagged";
        lock_timestamp: Date | null;
        entered_by_date: Date;
        reviewed_by_date: Date;
        created_at: Date;
        updated_at: Date;
        batch_id?: string;
        batch?: import("../batches/entities/batch.entity").Batch;
        entered_by_user?: import("../users/entities/user.entity").User;
        assigned_to_user?: import("../users/entities/user.entity").User;
        reviewed_by_user?: import("../users/entities/user.entity").User;
        locked_by_user?: import("../users/entities/user.entity").User;
    }[]>;
    searchAllRecords(query: string): Promise<{
        reviewed_by: string | null;
        locked_by: string | null;
        assigned_to: string | null;
        entered_by: string | null;
        id: string;
        property_address: string;
        transaction_date: Date;
        borrower_name: string;
        loan_officer_name: string;
        loan_amount: number;
        nmls_id: number;
        loan_term: number;
        sales_price: number;
        down_payment: number;
        apn: string;
        status: "Pending" | "Verified" | "Flagged";
        lock_timestamp: Date | null;
        entered_by_date: Date;
        reviewed_by_date: Date;
        created_at: Date;
        updated_at: Date;
        batch_id?: string;
        batch?: import("../batches/entities/batch.entity").Batch;
        entered_by_user?: import("../users/entities/user.entity").User;
        assigned_to_user?: import("../users/entities/user.entity").User;
        reviewed_by_user?: import("../users/entities/user.entity").User;
        locked_by_user?: import("../users/entities/user.entity").User;
    }[]>;
    findByBatchId(batchId: string): Promise<{
        reviewed_by: string | null;
        locked_by: string | null;
        assigned_to: string | null;
        entered_by: string | null;
        id: string;
        property_address: string;
        transaction_date: Date;
        borrower_name: string;
        loan_officer_name: string;
        loan_amount: number;
        nmls_id: number;
        loan_term: number;
        sales_price: number;
        down_payment: number;
        apn: string;
        status: "Pending" | "Verified" | "Flagged";
        lock_timestamp: Date | null;
        entered_by_date: Date;
        reviewed_by_date: Date;
        created_at: Date;
        updated_at: Date;
        batch_id?: string;
        batch?: import("../batches/entities/batch.entity").Batch;
        entered_by_user?: import("../users/entities/user.entity").User;
        assigned_to_user?: import("../users/entities/user.entity").User;
        reviewed_by_user?: import("../users/entities/user.entity").User;
        locked_by_user?: import("../users/entities/user.entity").User;
    }[]>;
}
